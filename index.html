<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Ember Starter Kit</title>
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<script type="text/x-handlebars">
		<header>
			<nav class="navbar navbar-fixed-top">
				<div class="container">
					{{#link-to 'index' class='navbar-brand' }}<img src="images/logo.png" alt="">{{/link-to}}
					<ul class="nav navbar-nav navbar-right">
						{{#link-to 'index' tagName='li' }}Home{{/link-to}}
						{{#link-to 'about' tagName='li' }}About{{/link-to}}
						{{#link-to 'products' tagName='li' }}Products{{/link-to}}
					</ul>
				</div>
			</nav>
		</header>
		<div id="main" class="container">{{outlet}}</div>
	</script>

	<script type="text/x-handlebars" data-template-name="index">
		<h1>Welcome to The Flint & Flame</h1>
		{{#link-to 'products' class='btn btn-warning' type='button' }}Browse all {{productsCount}} items{{/link-to}}
		<h2>Products on Sale</h2>
		<div class="row">
		{{#each onSale}}
			<div class="col-sm-4">
				{{product-onsale product=this}}
			</div>
		{{/each}}
		</div>
	</script>

	<script type="text/x-handlebars" data-template-name="about">
		<h1>About The Flint & Flame</h1>
	</script>

	<script type="text/x-handlebars" data-template-name="products">
		<div class="row">
			<ul class="list-unstyled col-md-2">
			{{#each}}
				<li>{{#link-to 'product' this classNames='product-link'}}{{title}}{{/link-to}}</li>
			{{/each}}
				<li>{{#link-to 'products.onsale' classNames='product-link'}}On Sale{{/link-to}}</li>
			</ul>
			<div class="col-md-10">{{outlet}}</div>
		</div>
	</script>

	<script type="text/x-handlebars" data-template-name="products/index">
		<p class='text-muted'>Choose a product from those on the left!</p>
	</script>

	<script type="text/x-handlebars" data-template-name="products/onsale">
		<h1>On sale products</h1>
		<ul class="list-unstyled">
			{{#each}}
				{{product-details product=this tagName='li'}}
			{{else}}
			<li class="row">
				<p><em>No products on sale</em></p>
			</li>
			{{/each}}
		</ul>
	</script>

	<script type="text/x-handlebars" data-template-name="product">
		{{product-details product=this}}
	</script>

	<!-- Components -->
	<script type="text/x-handlebars" data-template-name="components/product-onsale">
		<img {{bind-attr src='product.image' alt='product.title'}} class="col-sm-4">
		<div class="col-sm-8">
			<h2>{{product.title}}</h2>
			<p>
				<span class="label label-warning">{{#link-to 'products.onsale'}}On Sale{{/link-to}}</span>
			</p>
			<p>{{product.description}}</p>
			<p>{{#link-to 'product' product class='btn btn-success'}}Buy for ${{product.price}}{{/link-to}}</p>
			{{#if hasReviews}}
				<p class='text-muted'>
					{{#link-to 'product' product }}Read all reviews ({{reviewsCount}}){{/link-to}}
				</p>
			{{/if}}
		</div>
	</script>

	<script type="text/x-handlebars" data-template-name="components/product-details">
		<div class="col-sm-8">
			<h2 class="product-details__heading">{{product.title}}</h2>
			<p>{{product.description}}</p>
			<p><button type="button" class="btn btn-success">Buy for ${{product.price}}</button></p>
			<h3>Reviews</h3>
			<ul>
				{{#each product.reviews}}
				<li>{{text}}</li>
				{{else}}
				<li>
					<p><em>No reviews yet. Be the first to write one!</em></p>
				</li>
				{{/each}}
			</ul>
		</div>
		<div class="col-sm-4">
			<img {{bind-attr src='product.image' alt='product.title'}}>
		</div>
	</script>

	<script src="js/libs/jquery-1.10.2.js"></script>
	<script src="js/libs/handlebars-1.1.2.js"></script>
	<script src="js/libs/ember-1.4.0.js"></script>
	<script src="js/libs/ember-data-1.0.0.js"></script>
	<script src="js/app.js"></script>
	<!-- to activate the test runner, add the "?test" query string parameter -->
	<script src="tests/runner.js"></script>
</body>
</html>
